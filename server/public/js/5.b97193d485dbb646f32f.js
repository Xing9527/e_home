webpackJsonp([5],{HuhZ:function(t,e){},W20y:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{tableData:[],options:[{value:"0",label:"全部"},{value:"信工新闻眼",label:"信工新闻眼"},{value:"政治学习",label:"政治学习"},{value:"党建一点通",label:"党建一点通"},{value:"党员亮身份",label:"党员亮身份"},{value:"随时随地学",label:"随时随地学"},{value:"随时随地拍",label:"随时随地拍"},{value:"制度建设",label:"制度建设"},{value:"特色活动",label:"特色活动"},{value:"通知早知道",label:"通知早知道"}],formData:{value:""}}},methods:{getData:function(){var t=this;this.$axios.get("getAllNews").then(function(e){t.tableData=e.data})},getTrueData:function(){var t=this;console.log(this.formData.value),"0"==this.formData.value?this.getData():"信工新闻眼"==this.formData.value?this.$axios.get("getNewsEyes").then(function(e){e.ret&&(t.tableData=e.data)}):"政治学习"==this.formData.value?this.$axios.get("getPoliticaLearn").then(function(e){e.ret&&(t.tableData=e.data)}):"党建一点通"==this.formData.value?this.$axios.get("getMadeEasy").then(function(e){e.ret&&(t.tableData=e.data)}):"党员亮身份"==this.formData.value?this.$axios.get("getShowID").then(function(e){e.ret&&(t.tableData=e.data)}):"随时随地学"==this.formData.value?this.$axios.get("getStydy").then(function(e){e.ret&&(t.tableData=e.data)}):"随时随地拍"==this.formData.value?this.$axios.get("getPic").then(function(e){e.ret&&(t.tableData=e.data)}):"制度建设"==this.formData.value?this.$axios.get("getSystem").then(function(e){e.ret&&(t.tableData=e.data)}):"特色活动"==this.formData.value?this.$axios.get("getSpecialActivity").then(function(e){e.ret&&(t.tableData=e.data)}):"通知早知道"==this.formData.value&&this.$axios.get("getInform").then(function(e){e.ret&&(t.tableData=e.data)})},del:function(t){var e=this;this.$confirm("此操作将永久删除该新闻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("delNews",{id:t}).then(function(t){e.$message({type:"success",message:"删除成功!"}),setTimeout(function(){e.$router.go(0)},1e3)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},edit:function(t){this.$router.push({path:"/news/update",query:{id:t}})},swiper:function(t,e,a,l){var i=this,n={path:t,title:e,img:a,type:l};this.$axios.post("addSwiper",n).then(function(t){t.ret?(i.$message({type:"success",message:"添加成功!"}),setTimeout(function(){i.$router.push("/swiper/list")},1e3)):i.$message.error("添加失败!")})}},created:function(){this.getData()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news-list"},[a("div",{staticClass:"select"},[a("el-form",{ref:"form",attrs:{model:t.formData}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.value,callback:function(e){t.$set(t.formData,"value",e)},expression:"formData.value"}},t._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{change:t.getTrueData,label:e.label,value:e.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.getTrueData}},[t._v("查找")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"新闻标题"}}),t._v(" "),a("el-table-column",{attrs:{label:"新闻头图"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{"max-height":"100px"},attrs:{src:t.row.img,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"新闻分类",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.edit(e.row._id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.row._id)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){t.swiper(e.row._id,e.row.title,e.row.img,e.row.type)}}},[t._v("生成轮播图")])]}}])})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(l,i,!1,function(t){a("HuhZ")},"data-v-db0725aa",null);e.default=n.exports}});
//# sourceMappingURL=5.b97193d485dbb646f32f.js.map